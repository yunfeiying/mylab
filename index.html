<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport"
        content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>Highlighti Mobile</title>
    <meta http-equiv="Content-Security-Policy"
        content="script-src 'self' 'unsafe-eval' https://apis.google.com https://accounts.google.com https://www.google.com; object-src 'none';">
    <!-- Fonts & PWA -->
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <link rel="manifest" href="./manifest.json">
    <link rel="stylesheet" href="mobile.css?v=12.0">
    <script src="modules/web-compat.js?v=11.4" defer></script>
</head>

<body>
    <div id="app">
        <!-- ============================== -->
        <!-- VIEW: HOME (AI Assistant)      -->
        <!-- ============================== -->
        <div id="view-home" class="app-view active full-screen-view">
            <header class="gemini-header">
                <button class="header-btn back-btn btn-home-back-to-rss">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M15 18l-6-6 6-6" />
                    </svg>
                </button>
                <div class="header-title" id="chat-title">Assistant</div>
                <div style="display: flex; gap: 4px;">
                    <button id="btn-home-new-chat" class="header-btn icon-btn">
                        <svg width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                            stroke-width="2">
                            <line x1="12" y1="5" x2="12" y2="19"></line>
                            <line x1="5" y1="12" x2="19" y2="12"></line>
                        </svg>
                    </button>
                    <button id="btn-home-history" class="header-btn icon-btn">
                        <svg width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                            stroke-width="2">
                            <circle cx="12" cy="12" r="10"></circle>
                            <polyline points="12 6 12 12 16 14"></polyline>
                        </svg>
                    </button>
                </div>
            </header>
            <main id="chat-content" class="chat-content">
                <div id="messages-container"></div>
            </main>
            <!-- Chat Input Area (Repurposed Core Hub) -->
            <!-- We'll keep the logic in mobile-core.js but style it per screen -->
        </div>

        <!-- ============================== -->
        <!-- VIEW: CHAT HISTORY             -->
        <!-- ============================== -->
        <div id="view-chat-history" class="app-view full-screen-view">
            <header class="notes-header">
                <button id="btn-history-back" class="header-btn back-btn">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M15 18l-6-6 6-6" />
                    </svg>
                </button>
                <div class="header-title">Chat History</div>
                <button id="btn-clear-chat-history" class="header-btn icon-btn" style="color:#ff3b30;">
                    <svg width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M3 6h18m-2 0v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6m3 0V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"></path>
                    </svg>
                </button>
            </header>
            <main class="home-scroll-area">
                <div id="chat-sessions-container" style="padding: 16px;"></div>
                <div class="bottom-spacer"></div>
            </main>
        </div>

        <!-- ============================== -->
        <!-- VIEW: NOTES (Articles List)    -->
        <!-- ============================== -->
        <div id="view-notes" class="app-view full-screen-view">
            <header class="notes-header">
                <button class="header-btn back-btn btn-go-home">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M15 18l-6-6 6-6" />
                    </svg>
                </button>
                <div class="header-title">Notes</div>
                <button id="btn-notes-new" class="header-btn icon-btn">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <line x1="12" y1="5" x2="12" y2="19"></line>
                        <line x1="5" y1="12" x2="19" y2="12"></line>
                    </svg>
                </button>
            </header>
            <main class="home-scroll-area">
                <div id="full-notes-container" style="padding: 16px;"></div>
                <div class="bottom-spacer"></div>
            </main>
        </div>

        <!-- ============================== -->
        <!-- VIEW: READER (Articles List)   -->
        <!-- ============================== -->
        <div id="view-reader" class="app-view full-screen-view">
            <header class="notes-header">
                <button class="header-btn back-btn btn-go-home">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M15 18l-6-6 6-6" />
                    </svg>
                </button>
                <div class="header-title">Reader</div>
                <div style="width:44px;"></div>
            </header>
            <main class="home-scroll-area">
                <div id="full-reader-container" style="padding: 16px;"></div>
                <div class="bottom-spacer"></div>
            </main>
        </div>

        <!-- ============================== -->
        <!-- VIEW: RSS (Articles List)      -->
        <!-- ============================== -->
        <div id="view-rss" class="app-view full-screen-view">
            <header class="notes-header">
                <button class="header-btn back-btn btn-go-home">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M15 18l-6-6 6-6" />
                    </svg>
                </button>
                <div class="header-title">RSS News</div>
                <button id="btn-rss-manage" class="header-btn icon-btn">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <circle cx="12" cy="12" r="3"></circle>
                        <path
                            d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z" />
                    </svg>
                </button>
            </header>
            <main class="home-scroll-area">
                <div id="rss-feed-list-full" style="padding: 16px;"></div>
                <div class="bottom-spacer"></div>
            </main>
        </div>

        <!-- ============================== -->
        <!-- VIEW: SETTINGS                 -->
        <!-- ============================== -->
        <div id="view-settings" class="app-view full-screen-view">
            <header class="notes-header">
                <button class="header-btn back-btn btn-go-home">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M15 18l-6-6 6-6" />
                    </svg>
                </button>
                <div class="header-title">Settings</div>
                <div style="width:44px;"></div>
            </header>
            <main class="home-scroll-area">
                <div class="settings-list" style="padding-top: 16px;">
                    <div class="settings-item" id="set-language">
                        <div class="settings-icon">üåê</div>
                        <div class="settings-text">Language / ËØ≠Ë®Ä</div>
                        <div class="settings-arrow">‚Ä∫</div>
                    </div>
                    <div class="settings-item" id="act-sync">
                        <div class="settings-icon">‚òÅÔ∏è</div>
                        <div class="settings-text">Google Drive Sync</div>
                        <div class="settings-arrow">‚Ä∫</div>
                    </div>
                    <div class="settings-item" id="act-sync-webdav">
                        <div class="settings-icon">üìÇ</div>
                        <div class="settings-text">WebDAV Sync</div>
                        <div class="settings-arrow">‚Ä∫</div>
                    </div>
                    <div class="settings-item" id="act-ai">
                        <div class="settings-icon">üîë</div>
                        <div class="settings-text">API Key & Model</div>
                        <div class="settings-arrow">‚Ä∫</div>
                    </div>

                    <div class="settings-divider">Data</div>
                    <div class="settings-item" id="btn-export-json-alt">
                        <div class="settings-icon">üì§</div>
                        <div class="settings-text">Export Backup (JSON)</div>
                    </div>
                    <div class="settings-item" id="btn-import-json-alt">
                        <div class="settings-icon">üì•</div>
                        <div class="settings-text">Import Backup (JSON)</div>
                    </div>
                    <div class="settings-item" id="btn-reset-data-alt" style="color:#ff3b30;">
                        <div class="settings-icon">‚ö†Ô∏è</div>
                        <div class="settings-text">Reset All Data</div>
                    </div>
                </div>
                <div class="bottom-spacer"></div>
            </main>
        </div>

        <!-- ============================== -->
        <!-- VIEW: EDITOR (Full Screen)      -->
        <!-- ============================== -->
        <div id="view-editor" class="app-view full-screen-view">
            <header class="notes-header">
                <button id="btn-editor-back" class="header-btn back-btn btn-back-to-notes">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M15 18l-6-6 6-6" />
                    </svg>
                </button>
                <div class="header-title-container">
                    <div class="editor-header-title" contenteditable="true" placeholder="Untitled Note"
                        spellcheck="false" autocorrect="off" autocapitalize="sentences"></div>
                </div>
                <div style="display: flex; gap: 4px;">
                    <button id="act-save-note" class="header-btn icon-btn" title="Save">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                            stroke-width="2">
                            <path d="M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"></path>
                            <polyline points="17 21 17 13 7 13 7 21"></polyline>
                            <polyline points="7 3 7 8 15 8"></polyline>
                        </svg>
                    </button>
                    <button id="act-editor-delete" class="header-btn icon-btn" style="color:#ff3b30;" title="Delete">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                            stroke-width="2">
                            <polyline points="3 6 5 6 21 6"></polyline>
                            <path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2">
                            </path>
                        </svg>
                    </button>
                </div>
            </header>
            <div class="editor-content">
                <div class="editor-body" contenteditable="true" placeholder="Start typing..." spellcheck="false"
                    autocorrect="on"></div>
            </div>
            <!-- Editor Floating Toolbar -->
            <div class="editor-toolbar-floating">
                <div id="editor-voice-indicator" class="hidden">Recording...</div>
                <div class="editor-toolbar-capsule collapsed">
                    <svg class="editor-toolbar-dot-icon" width="20" height="20" viewBox="0 0 24 24" fill="none"
                        stroke="currentColor" stroke-width="2">
                        <path d="M12 20h9"></path>
                        <path d="M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z"></path>
                    </svg>
                    <div class="toolbar-section">
                        <button id="btn-editor-ai-slash" class="toolbar-btn-mini"
                            style="font-family:monospace; font-weight:700; color:var(--ios-blue); font-size: 18px;">@</button>
                        <button id="btn-editor-bold" class="toolbar-btn-mini"><b>B</b></button>
                        <button id="btn-editor-italic" class="toolbar-btn-mini"><i>I</i></button>
                        <button id="btn-editor-list" class="toolbar-btn-mini">List</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- ============================== -->
        <!-- VIEW: READER DETAIL            -->
        <!-- ============================== -->
        <div id="view-reader-detail" class="app-view full-screen-view">
            <header class="notes-header">
                <button class="header-btn back-btn btn-back-to-reader">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M15 18l-6-6 6-6" />
                    </svg>
                </button>
                <div class="header-title">Reader</div>
                <button id="btn-reader-open-url" class="header-btn icon-btn">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path>
                        <polyline points="15 3 21 3 21 9"></polyline>
                        <line x1="10" y1="14" x2="21" y2="3"></line>
                    </svg>
                </button>
            </header>
            <main class="reader-scroll-area">
                <article class="reader-article">
                    <h1 id="reader-title" class="reader-main-title">Article Title</h1>
                    <div id="reader-meta" class="reader-meta">source.com ‚Ä¢ 2024-02-04</div>
                    <div id="reader-content" class="reader-body-content"></div>
                </article>
                <div class="bottom-spacer"></div>
            </main>
        </div>

        <!-- Other views (RSS Feed, Browser) kept as is... -->
        <div id="view-rss-feed" class="app-view full-screen-view">
            <header class="notes-header">
                <button class="header-btn back-btn btn-back-to-rss">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M15 18l-6-6 6-6" />
                    </svg>
                </button>
                <div class="header-title" id="rss-feed-title">RSS News</div>
                <button id="btn-refresh-rss" class="header-btn icon-btn">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M23 4v6h-6"></path>
                        <path d="M20.49 15a9 9 0 1 1-2.12-9.36L23 10"></path>
                    </svg>
                </button>
            </header>
            <main class="home-scroll-area">
                <div id="rss-news-list" style="padding-top:16px;"></div>
                <div class="bottom-spacer"></div>
            </main>
        </div>

        <div id="view-browser" class="app-view full-screen-view">
            <header class="notes-header">
                <button id="btn-browser-close" class="header-btn back-btn">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M15 18l-6-6 6-6" />
                    </svg>
                </button>
                <div id="browser-title" class="header-title" style="flex:1; text-align:center;">Loading...</div>
                <div style="width:44px;"></div>
            </header>
            <main style="flex:1; background:#fff; overflow:hidden;">
                <iframe id="browser-iframe" style="width:100%; height:100%; border:none;"
                    sandbox="allow-scripts allow-same-origin allow-popups allow-forms"></iframe>
            </main>
        </div>

        <!-- ============================== -->
        <!-- FLOATING CAPSULE DOCK          -->
        <!-- ============================== -->
        <div class="floating-capsule-dock" id="global-nav-bar">
            <button class="dock-tab active" id="nav-tab-home">
                <svg width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z" />
                </svg>
                <span class="tab-label">Home</span>
            </button>
            <button class="dock-tab" id="nav-tab-notes">
                <svg width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"></path>
                    <path d="M18.5 2.5a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4 9.5-9.5z"></path>
                </svg>
                <span class="tab-label">Notes</span>
            </button>
            <button class="dock-tab" id="nav-tab-reader">
                <svg width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"></path>
                    <path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"></path>
                </svg>
                <span class="tab-label">Reader</span>
            </button>
            <button class="dock-tab" id="nav-tab-rss">
                <svg width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <circle cx="5" cy="19" r="1"></circle>
                    <path d="M4 4a16 16 0 0 1 16 16"></path>
                    <path d="M4 11a9 9 0 0 1 9 9"></path>
                </svg>
                <span class="tab-label">RSS</span>
            </button>
            <button class="dock-tab" id="nav-tab-settings">
                <svg width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <circle cx="12" cy="12" r="3"></circle>
                    <path
                        d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z" />
                </svg>
                <span class="tab-label">Settings</span>
            </button>
        </div>

        <!-- Universal Chat Hub (V12.0 Swapped Layout) -->
        <div class="core-hub" id="universal-chat-hub">
            <div class="input-capsule">
                <button id="btn-global-add" class="plus-btn-line">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                        stroke-width="2.5">
                        <line x1="12" y1="5" x2="12" y2="19"></line>
                        <line x1="5" y1="12" x2="19" y2="12"></line>
                    </svg>
                </button>
                <input type="text" id="global-input" class="universal-core-input" placeholder="Ask Assistant...">
                <div id="hold-to-talk" class="hidden"
                    style="flex:1; height:38px; display:flex; align-items:center; justify-content:center; background:#f2f2f7; border-radius:19px; font-weight:600; color:#1c1c1e; user-select:none; -webkit-user-select:none; transition:background 0.2s, transform 0.1s; cursor:pointer;">
                    Êåâ‰Ωè ËØ¥ËØù
                </div>
            </div>
            <button id="btn-dock-action" class="send-btn-line mic-btn">
                <svg id="icon-dock-mic" width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                    stroke-width="2">
                    <path d="M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3z"></path>
                    <path d="M19 10v2a7 7 0 0 1-14 0v-2"></path>
                    <line x1="12" y1="19" x2="12" y2="23"></line>
                </svg>
                <svg id="icon-dock-send" class="hidden" width="22" height="22" viewBox="0 0 24 24" fill="none"
                    stroke="currentColor" stroke-width="2">
                    <line x1="22" y1="2" x2="11" y2="13"></line>
                    <polygon points="22 2 15 22 11 13 2 9 22 2"></polygon>
                </svg>
            </button>
        </div>

    </div>

    <!-- ============================== -->
    <!-- MODALS & ACTION SHEETS         -->
    <!-- ============================== -->

    <!-- Attachment Action Sheet (V12.0) -->
    <div id="attachment-sheet-overlay" class="action-sheet-overlay hidden">
        <div class="action-sheet">
            <div class="action-btn-group">
                <button id="att-camera" class="action-btn">Camera / Áõ∏Êú∫</button>
                <button id="att-gallery" class="action-btn">Photo Gallery / ÂõæÂ∫ì</button>
                <button id="att-file" class="action-btn">Files / Êñá‰ª∂</button>
            </div>
            <button id="att-cancel" class="action-btn cancel-btn">Cancel</button>
        </div>
    </div>

    <!-- AI Settings Dialog (V12.0) -->
    <div id="api-settings-dialog" class="action-sheet-overlay hidden">
        <div class="action-sheet" style="background:#f2f2f7; border-radius: 20px 20px 0 0; padding: 20px;">
            <h3 style="margin-top:0;">AI Settings</h3>
            <div style="background:white; border-radius:12px; padding:12px; margin-bottom:16px;">
                <label style="font-size:12px; color:#8e8e93;">API Key</label>
                <input type="password" id="input-api-key"
                    style="width:100%; border:none; padding:8px 0; font-size:16px;" placeholder="sk-...">
                <div style="height:0.5px; background:#eee; margin:8px 0;"></div>
                <label style="font-size:12px; color:#8e8e93;">Base URL</label>
                <input type="text" id="input-base-url" style="width:100%; border:none; padding:8px 0; font-size:16px;"
                    placeholder="https://api.deepseek.com">
                <div style="height:0.5px; background:#eee; margin:8px 0;"></div>
                <label style="font-size:12px; color:#8e8e93;">Model</label>
                <input type="text" id="input-model" style="width:100%; border:none; padding:8px 0; font-size:16px;"
                    placeholder="deepseek-chat">
            </div>
            <button id="btn-save-api-settings" class="action-btn"
                style="background:var(--ios-blue); color:white; border-radius:12px; margin-bottom:8px; border:none; width:100%;">Save
                Settings</button>
            <button id="btn-cancel-api-settings" class="action-btn" style="border:none; width:100%;">Cancel</button>
        </div>
    </div>

    <!-- GDrive/Cloud Config (V12.0) -->
    <div id="gdrive-settings-dialog" class="action-sheet-overlay hidden">
        <div class="action-sheet" style="background:#f2f2f7; border-radius: 20px 20px 0 0; padding: 20px;">
            <h3 style="margin-top:0;">Cloud Sync Config</h3>
            <div style="background:white; border-radius:12px; padding:12px; margin-bottom:16px;">
                <label style="font-size:12px; color:#8e8e93;">Client ID</label>
                <input type="text" id="input-gd-client-id"
                    style="width:100%; border:none; padding:8px 0; font-size:16px;">
                <div style="height:0.5px; background:#eee; margin:8px 0;"></div>
                <label style="font-size:12px; color:#8e8e93;">API Key</label>
                <input type="password" id="input-gd-api-key"
                    style="width:100%; border:none; padding:8px 0; font-size:16px;">
            </div>
            <button id="btn-save-gd-settings" class="action-btn"
                style="background:var(--ios-blue); color:white; border-radius:12px; margin-bottom:8px; border:none; width:100%;">Save
                Cloud Config</button>
            <button id="btn-cancel-gd-settings" class="action-btn" style="border:none; width:100%;">Cancel</button>
        </div>
    </div>

    <!-- Voice Preview Overlay (PTT Feedback) -->
    <div id="voice-preview-overlay" class="hidden"
        style="position:fixed; top:45%; left:50%; transform:translate(-50%,-50%); width:280px; min-height:180px; background:rgba(30,30,30,0.85); backdrop-filter:blur(25px); -webkit-backdrop-filter:blur(25px); border-radius:32px; display:flex; flex-direction:column; align-items:center; justify-content:center; color:white; z-index:99999; box-shadow: 0 20px 50px rgba(0,0,0,0.3); border: 1px solid rgba(255,255,255,0.1); padding: 24px;">
        <div class="voice-anim-container" style="margin-bottom:20px;">
            <div class="voice-pulse"
                style="width:60px; height:60px; background:rgba(0,122,255,0.2); border-radius:50%; display:flex; align-items:center; justify-content:center;">
                <svg width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="#007aff" stroke-width="2.5"
                    stroke-linecap="round" stroke-linejoin="round">
                    <path d="M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3z"></path>
                    <path d="M19 10v2a7 7 0 0 1-14 0v-2"></path>
                    <line x1="12" y1="19" x2="12" y2="23"></line>
                </svg>
            </div>
        </div>
        <div id="voice-status-text"
            style="font-size:17px; font-weight:500; text-align:center; line-height:1.4; color:rgba(255,255,255,0.95); width:100%; word-break:break-word; min-height:1.4em;">
            Listening...</div>
        <div
            style="margin-top:20px; font-size:11px; color:rgba(255,255,255,0.4); text-transform:uppercase; letter-spacing:1px; font-weight:700;">
            Speech Preview</div>
    </div>

    <!-- Hidden Functional Inputs -->
    <input type="file" id="chat-camera-input" accept="image/*" capture="camera" style="display:none;">
    <input type="file" id="global-gallery-input" accept="image/*" multiple style="display:none;">
    <input type="file" id="chat-file-input" style="display:none;">

    <!-- Scripts -->
    <script src="modules/idb-utils.js?v=10.9" defer></script>
    <script src="modules/storage-bridge.js?v=10.9" defer></script>
    <script src="ai-core-mobile.js?v=11.0" defer></script>
    <script src="modules/memory-agent.js?v=11.0" defer></script>
    <script src="mobile-browser.js?v=11.0" defer></script>
    <script src="mobile-core.js?v=12.0" defer></script>
    <script src="mobile-editor.js?v=11.6" defer></script>
    <script src="mobile-attachment-manager.js?v=11.6" defer></script>
    <script src="modules/chat-skills-engine.js?v=11.6" defer></script>
    <script src="mobile-chat.js?v=11.6" defer></script>
    <script src="mobile-gdrive.js?v=11.6" defer></script>
    <script src="modules/rss-service.js?v=11.6" defer></script>
    <script src="mobile-sync.js?v=11.6" defer></script>
</body>

</html>